victoria-logs-single:
  server:
    fullnameOverride: victoria-logs
    retentionPeriod: 14d
    persistentVolume:
      enabled: true
      storageClassName: "longhorn"
      size: 20Gi
    serviceMonitor:
      enabled: true
    route:
      enabled: true
      annotations:
        gethomepage.dev/enabled: 'true'
        gethomepage.dev/group: Logs
        gethomepage.dev/icon: sh-victoriametrics
        gethomepage.dev/name: VM-Logs
      parentRefs:
        - name: internal
          namespace: kube-system
      hostnames:
        - vm-logs.rsr.net
      rules:
        - matches:
            - path:
                type: PathPrefix
                value: /
          backendRefs:
            - name: victoria-logs-server
              port: 9428
    ingress:
      enabled: true
      ingressClassName: nginx
      annotations:
        kubernetes.io/ingress.class: nginx
        cert-manager.io/issuer: step-issuer
        cert-manager.io/issuer-kind: StepClusterIssuer
        cert-manager.io/issuer-group: certmanager.step.sm
        cert-manager.io/revision-history-limit: "3"
        cert-manager.io/duration: "2160h"
        cert-manager.io/renew-before: "720h"
      hosts:
        - name: vm-logs.rsr.net
          path:
            - /
          port: http
      tls:
        - hosts:
            - vm-logs.rsr.net
          secretName: vm-logs-cert-tls

  dashboards:
    enabled: true
    annotations:
      grafana_folder: observability
    labels:
      grafana_dashboard: "1"
