


repo:
  url: https://github.com/rogerrum/k8s-gitops.git
  revision: main


applications:
  - name: loki
    namespace: logs
    path: main/logs/loki
    manifest-paths: /main/logs/loki
    sync-wave: "-1"
    ignoreDifferences:
      - group: "*"
        kind: "StatefulSet"
        jqPathExpressions:
          - .spec.persistentVolumeClaimRetentionPolicy
    helm:
      enabled: true
      additionalValues:
        - http://localhost/loki.yaml
    syncOptions:
      - CreateNamespace=true
      - RespectIgnoreDifferences=true

  - name: promtail
    namespace: logs
    path: main/logs/promtail
    manifest-paths: /main/logs/promtail
    sync-wave: "-1"
    helm:
      enabled: true
    syncOptions:
      - CreateNamespace=true
